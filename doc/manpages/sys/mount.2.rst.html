<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.14: http://docutils.sourceforge.net/" />
<title>mount.2.rst</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7952 2016-07-26 18:15:59Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

.subscript {
  vertical-align: sub;
  font-size: smaller }

.superscript {
  vertical-align: super;
  font-size: smaller }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left, table.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right, table.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

table.align-center {
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

.align-top    {
  vertical-align: top }

.align-middle {
  vertical-align: middle }

.align-bottom {
  vertical-align: bottom }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document">


<hr class="docutils" />
<p>MOUNT(2) BSD System Calls Manual MOUNT(2)</p>
<p><strong>NAME</strong></p>
<p><strong>mount</strong>, <strong>nmount</strong>, <strong>unmount</strong> — mount or dismount a file system</p>
<p><strong>LIBRARY</strong></p>
<p>Standard C&nbsp;Library (libc, −lc)</p>
<p><strong>SYNOPSIS</strong></p>
<p><strong>#include &lt;sys/param.h&gt;
#include &lt;sys/mount.h&gt;</strong></p>
<p><em>int</em></p>
<p><strong>mount</strong>(<em>const&nbsp;char&nbsp;*type</em>, <em>const&nbsp;char&nbsp;*dir</em>, <em>int&nbsp;flags</em>,
<em>void&nbsp;*data</em>);</p>
<p><em>int</em></p>
<p><strong>unmount</strong>(<em>const&nbsp;char&nbsp;*dir</em>, <em>int&nbsp;flags</em>);</p>
<p><strong>#include &lt;sys/uio.h&gt;</strong></p>
<p><em>int</em></p>
<p><strong>nmount</strong>(<em>struct&nbsp;iovec&nbsp;*iov</em>, <em>u_int&nbsp;niov</em>, <em>int&nbsp;flags</em>);</p>
<p><strong>DESCRIPTION</strong></p>
<p>The <strong>mount</strong>() system call grafts a file system object onto the
system file tree at the point <em>dir</em>. The argument <em>data</em> describes the
file system object to be mounted. The argument <em>type</em> tells the kernel
how to interpret <em>data</em> (See <em>type</em> below). The contents of the file
system become available through the new mount point <em>dir</em>. Any files in
<em>dir</em> at the time of a successful mount are swept under the carpet so to
speak, and are unavailable until the file system is unmounted.</p>
<p>The <strong>nmount</strong>() system call behaves similarly to <strong>mount</strong>(),
except that the mount options (file system type name, device to mount,
mount-point name, etc.) are passed as an array of name-value pairs in
the array <em>iov</em>, containing <em>niov</em> elements. The following options are
required by all file systems:</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<tbody valign="top">
<tr><td>&nbsp;</td>
<td>fstype</td>
<td>file system type name
(e.g., ‘‘procfs’’)</td>
</tr>
<tr><td>&nbsp;</td>
<td>fspath</td>
<td>mount point pathname
(e.g., ‘‘/proc’’)</td>
</tr>
</tbody>
</table>
<p>Depending on the file system type, other options may be recognized or
required; for example, most disk-based file systems require a ‘‘from’’
option containing the pathname of a special device in addition to the
options listed above.</p>
<p>By default only the super-user may call the <strong>mount</strong>() system call.
This restriction can be removed by setting the <em>vfs.usermount</em> sysctl(8)
variable to a non-zero value; see the BUGS section for more information.</p>
<p>The following <em>flags</em> may be specified to suppress default semantics
which affect file system access.</p>
<p>MNT_RDONLY</p>
<p>The file system should be treated as read-only; even the super-user may
not write on it. Specifying MNT_UPDATE without this option will upgrade
a read-only file system to read/write.</p>
<p>MNT_NOEXEC</p>
<p>Do not allow files to be executed from the file system.</p>
<p>MNT_NOSUID</p>
<p>Do not honor setuid or setgid bits on files when executing them. This
flag is set automatically when the caller is not the super-user.</p>
<p>MNT_NOATIME</p>
<p>Disable update of file access times.</p>
<p>MNT_SNAPSHOT</p>
<p>Create a snapshot of the file system. This is currently only supported
on UFS2 file systems, see mksnap_ffs(8) for more information.</p>
<p>MNT_SUIDDIR</p>
<p>Directories with the SUID bit set chown new files to their own owner.
This flag requires the SUIDDIR option to have been compiled into the
kernel to have any effect. See the mount(8) and chmod(2) pages for more
information.</p>
<p>MNT_SYNCHRONOUS</p>
<p>All I/O to the file system should be done synchronously.</p>
<p>MNT_ASYNC</p>
<p>All I/O to the file system should be done asynchronously.</p>
<p>MNT_FORCE</p>
<p>Force a read-write mount even if the file system appears to be unclean.
Dangerous. Together with MNT_UPDATE and MNT_RDONLY, specify that the
file system is to be forcibly downgraded to a read-only mount even if
some files are open for writing.</p>
<p>MNT_NOCLUSTERR</p>
<p>Disable read clustering.</p>
<p>MNT_NOCLUSTERW</p>
<p>Disable write clustering.</p>
<p>The flag MNT_UPDATE indicates that the mount command is being applied to
an already mounted file system. This allows the mount flags to be
changed without requiring that the file system be unmounted and
remounted. Some file systems may not allow all flags to be changed. For
example, many file systems will not allow a change from read-write to
read-only.</p>
<p>The flag MNT_RELOAD causes the vfs subsystem to update its data
structures pertaining to the specified already mounted file system.</p>
<p>The <em>type</em> argument names the file system. The types of file systems
known to the system can be obtained with lsvfs(1).</p>
<p>The <em>data</em> argument is a pointer to a structure that contains the type
specific arguments to mount. The format for these argument structures is
described in the manual page for each file system. By convention file
system manual pages are named by prefixing ‘‘<a href="#id1"><span class="problematic" id="id2">mount_</span></a>’’ to the name of the
file system as returned by lsvfs(1). Thus the NFS file system is
described by the mount_nfs(8) manual page. It should be noted that a
manual page for default file systems, known as UFS and UFS2, does not
exist.</p>
<p>The <strong>unmount</strong>() system call disassociates the file system from the
specified mount point <em>dir</em>.</p>
<p>The <em>flags</em> argument may include MNT_FORCE to specify that the file
system should be forcibly unmounted even if files are still active.
Active special devices continue to work, but any further accesses to any
other active files result in errors even if the file system is later
remounted.</p>
<p>If the MNT_BYFSID flag is specified, <em>dir</em> should instead be a file
system ID encoded as ‘‘FSID:<em>val0</em>:<em>val1</em>’’, where <em>val0</em> and <em>val1</em>
are the contents of the <em>fsid_t val[]</em> array in decimal. The file system
that has the specified file system ID will be unmounted.</p>
<p><strong>RETURN VALUES</strong></p>
<p>Upon successful completion, the value&nbsp;0 is returned; otherwise the
value&nbsp;−1 is returned and the global variable <em>errno</em> is set to indicate
the error.</p>
<p><strong>ERRORS</strong></p>
<p>The <strong>mount</strong>() and <strong>nmount</strong>() system calls will fail when one of
the following occurs:</p>
<p>[EPERM]</p>
<p>The caller is neither the super-user nor the owner of <em>dir</em>.</p>
<p>[ENAMETOOLONG]</p>
<p>A component of a pathname exceeded 255 characters, or the entire length
of a path name exceeded 1023 characters.</p>
<p>[ELOOP]</p>
<p>Too many symbolic links were encountered in translating a pathname.</p>
<p>[ENOENT]</p>
<p>A component of <em>dir</em> does not exist.</p>
<p>[ENOTDIR]</p>
<p>A component of <em>name</em> is not a directory, or a path prefix of <em>special</em>
is not a directory.</p>
<p>[EBUSY]</p>
<p>Another process currently holds a reference to <em>dir</em>.</p>
<p>[EFAULT]</p>
<p>The <em>dir</em> argument points outside the process’s allocated address space.</p>
<p>The following errors can occur for a <em>ufs</em> file system mount:</p>
<p>[ENODEV]</p>
<p>A component of ufs_args <em>fspec</em> does not exist.</p>
<p>[ENOTBLK]</p>
<p>The <em>fspec</em> argument is not a block device.</p>
<p>[ENXIO]</p>
<p>The major device number of <em>fspec</em> is out of range (this indicates no
device driver exists for the associated hardware).</p>
<p>[EBUSY]</p>
<p><em>fspec</em> is already mounted.</p>
<p>[EMFILE]</p>
<p>No space remains in the mount table.</p>
<p>[EINVAL]</p>
<p>The super block for the file system had a bad magic number or an out of
range block size.</p>
<p>[ENOMEM]</p>
<p>Not enough memory was available to read the cylinder group information
for the file system.</p>
<p>[EIO]</p>
<p>An I/O error occurred while reading the super block or cylinder group
information.</p>
<p>[EFAULT]</p>
<p>The <em>fspec</em> argument points outside the process’s allocated address
space.</p>
<p>The following errors can occur for a <em>nfs</em> file system mount:</p>
<p>[ETIMEDOUT]</p>
<p><em>Nfs</em> timed out trying to contact the server.</p>
<p>[EFAULT]</p>
<p>Some part of the information described by nfs_args points outside the
process’s allocated address space.</p>
<p>The <strong>unmount</strong>() system call may fail with one of the following
errors:</p>
<p>[EPERM]</p>
<p>The caller is neither the super-user nor the user who issued the
corresponding <strong>mount</strong>() call.</p>
<p>[ENAMETOOLONG]</p>
<p>The length of the path name exceeded 1023 characters.</p>
<p>[EINVAL]</p>
<p>The requested directory is not in the mount table.</p>
<p>[ENOENT]</p>
<p>The file system ID specified using MNT_BYFSID was not found in the mount
table.</p>
<p>[EINVAL]</p>
<p>The file system ID specified using MNT_BYFSID could not be decoded.</p>
<p>[EINVAL]</p>
<p>The specified file system is the root file system.</p>
<p>[EBUSY]</p>
<p>A process is holding a reference to a file located on the file system.</p>
<p>[EIO]</p>
<p>An I/O error occurred while writing cached file system information.</p>
<p>[EFAULT]</p>
<p>The <em>dir</em> argument points outside the process’s allocated address space.</p>
<p><strong>SEE ALSO</strong></p>
<p>lsvfs(1), mksnap_ffs(8), mount(8), umount(8)</p>
<p><strong>HISTORY</strong></p>
<p>The <strong>mount</strong>() and <strong>unmount</strong>() functions appeared in Version&nbsp;1
AT&amp;T UNIX. The <strong>nmount</strong>() system call first appeared in FreeBSD&nbsp;5.0.</p>
<p><strong>BUGS</strong></p>
<p>Some of the error codes need translation to more obvious messages.</p>
<p>Allowing untrusted users to mount arbitrary media, e.g. by enabling
<em>vfs.usermount</em>, should not be considered safe. Most file systems in
FreeBSD were not built to safeguard against malicious devices.</p>
<p>BSD December&nbsp;1, 2017 BSD</p>
<hr class="docutils" />
<!-- Copyright (c) 1990, 1991, 1993 -->
<!-- The Regents of the University of California.  All rights reserved. -->
<!--  -->
<!-- This code is derived from software contributed to Berkeley by -->
<!-- Chris Torek and the American National Standards Committee X3, -->
<!-- on Information Processing Systems. -->
<!--  -->
<!-- Redistribution and use in source and binary forms, with or without -->
<!-- modification, are permitted provided that the following conditions -->
<!-- are met: -->
<!-- 1. Redistributions of source code must retain the above copyright -->
<!-- notice, this list of conditions and the following disclaimer. -->
<!-- 2. Redistributions in binary form must reproduce the above copyright -->
<!-- notice, this list of conditions and the following disclaimer in the -->
<!-- documentation and/or other materials provided with the distribution. -->
<!-- 3. Neither the name of the University nor the names of its contributors -->
<!-- may be used to endorse or promote products derived from this software -->
<!-- without specific prior written permission. -->
<!--  -->
<!-- THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND -->
<!-- ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE -->
<!-- IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE -->
<!-- ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE -->
<!-- FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL -->
<!-- DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS -->
<!-- OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) -->
<!-- HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT -->
<!-- LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY -->
<!-- OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF -->
<!-- SUCH DAMAGE. -->
</div>
</body>
</html>
